tag @a remove get_treasure

execute positioned 1009.50 14.50 1007.50 as @a[tag=!treasure1,gamemode=!spectator,tag=!debug,distance=..2] unless entity @a[tag=treasure1] run tellraw @a ["",{"text": ">> ","color":"gold","bold": true},{"selector": "@s","color":"gold"} , " 第一个获得了 ",{"text": "营地屋顶","color":"gold"}," 的宝藏!"]
execute positioned 1009.50 14.50 1007.50 as @a[tag=!treasure1,gamemode=!spectator,tag=!debug,distance=..2] run tag @s add get_treasure
execute positioned 1009.50 14.50 1007.50 as @a[tag=!treasure1,gamemode=!spectator,tag=!debug,distance=..2] run tag @s add treasure1

execute positioned 1020.50 15.50 1016.50 as @a[tag=!treasure2,gamemode=!spectator,tag=!debug,distance=..2] unless entity @a[tag=treasure2] run tellraw @a ["",{"text": ">> ","color":"gold","bold": true},{"selector": "@s","color":"gold"} , " 第一个获得了 ",{"text": "沙漠骨骸","color":"gold"}," 的宝藏!"]
execute positioned 1020.50 15.50 1016.50 as @a[tag=!treasure2,gamemode=!spectator,tag=!debug,distance=..2] run tag @s add get_treasure
execute positioned 1020.50 15.50 1016.50 as @a[tag=!treasure2,gamemode=!spectator,tag=!debug,distance=..2] run tag @s add treasure2

execute positioned 1008.50 30.50 1020.50 as @a[tag=!treasure3,gamemode=!spectator,tag=!debug,distance=..2] unless entity @a[tag=treasure3] run tellraw @a ["",{"text": ">> ","color":"gold","bold": true},{"selector": "@s","color":"gold"} , " 第一个获得了 ",{"text": "神庙立柱","color":"gold"}," 的宝藏!"]
execute positioned 1008.50 30.50 1020.50 as @a[tag=!treasure3,gamemode=!spectator,tag=!debug,distance=..2] run tag @s add get_treasure
execute positioned 1008.50 30.50 1020.50 as @a[tag=!treasure3,gamemode=!spectator,tag=!debug,distance=..2] run tag @s add treasure3

execute positioned 1011.50 19.50 1058.50 as @a[tag=!treasure4,gamemode=!spectator,tag=!debug,distance=..2] unless entity @a[tag=treasure4] run tellraw @a ["",{"text": ">> ","color":"gold","bold": true},{"selector": "@s","color":"gold"} , " 第一个获得了 ",{"text": "下界之门","color":"gold"}," 的宝藏!"]
execute positioned 1011.50 19.50 1058.50 as @a[tag=!treasure4,gamemode=!spectator,tag=!debug,distance=..2] run tag @s add get_treasure
execute positioned 1011.50 19.50 1058.50 as @a[tag=!treasure4,gamemode=!spectator,tag=!debug,distance=..2] run tag @s add treasure4

execute positioned 1026.50 18.50 1047.00 as @a[tag=!treasure5,gamemode=!spectator,tag=!debug,distance=..2] unless entity @a[tag=treasure5] run tellraw @a ["",{"text": ">> ","color":"gold","bold": true},{"selector": "@s","color":"gold"} , " 第一个获得了 ",{"text": "落日森林","color":"gold"}," 的宝藏!"]
execute positioned 1026.50 18.50 1047.00 as @a[tag=!treasure5,gamemode=!spectator,tag=!debug,distance=..2] run tag @s add get_treasure
execute positioned 1026.50 18.50 1047.00 as @a[tag=!treasure5,gamemode=!spectator,tag=!debug,distance=..2] run tag @s add treasure5

execute positioned 1004.50 18.50 1043.50 as @a[tag=!treasure6,gamemode=!spectator,tag=!debug,distance=..2] unless entity @a[tag=treasure6] run tellraw @a ["",{"text": ">> ","color":"gold","bold": true},{"selector": "@s","color":"gold"} , " 第一个获得了 ",{"text": "地狱之顶","color":"gold"}," 的宝藏!"]
execute positioned 1004.50 18.50 1043.50 as @a[tag=!treasure6,gamemode=!spectator,tag=!debug,distance=..2] run tag @s add get_treasure
execute positioned 1004.50 18.50 1043.50 as @a[tag=!treasure6,gamemode=!spectator,tag=!debug,distance=..2] run tag @s add treasure6

execute positioned 1013.00 08.50 1041.00 as @a[tag=!treasure7,gamemode=!spectator,tag=!debug,distance=..2] unless entity @a[tag=treasure7] run tellraw @a ["",{"text": ">> ","color":"gold","bold": true},{"selector": "@s","color":"gold"} , " 第一个获得了 ",{"text": "节奏舞厅","color":"gold"}," 的宝藏!"]
execute positioned 1013.00 08.50 1041.00 as @a[tag=!treasure7,gamemode=!spectator,tag=!debug,distance=..2] run tag @s add get_treasure
execute positioned 1013.00 08.50 1041.00 as @a[tag=!treasure7,gamemode=!spectator,tag=!debug,distance=..2] run tag @s add treasure7

execute positioned 1007.50 13.50 1025.50 as @a[tag=!treasure8,gamemode=!spectator,tag=!debug,distance=..2] unless entity @a[tag=treasure8] run tellraw @a ["",{"text": ">> ","color":"gold","bold": true},{"selector": "@s","color":"gold"} , " 第一个获得了 ",{"text": "末路营火","color":"gold"}," 的宝藏!"]
execute positioned 1007.50 13.50 1025.50 as @a[tag=!treasure8,gamemode=!spectator,tag=!debug,distance=..2] run tag @s add get_treasure
execute positioned 1007.50 13.50 1025.50 as @a[tag=!treasure8,gamemode=!spectator,tag=!debug,distance=..2] run tag @s add treasure8

execute positioned 1024.50 29.50 1038.50 as @a[tag=!treasure9,gamemode=!spectator,tag=!debug,distance=..2] unless entity @a[tag=treasure9] run tellraw @a ["",{"text": ">> ","color":"gold","bold": true},{"selector": "@s","color":"gold"} , " 第一个获得了 ",{"text": "活塞平台","color":"gold"}," 的宝藏!"]
execute positioned 1024.50 29.50 1038.50 as @a[tag=!treasure9,gamemode=!spectator,tag=!debug,distance=..2] run tag @s add get_treasure
execute positioned 1024.50 29.50 1038.50 as @a[tag=!treasure9,gamemode=!spectator,tag=!debug,distance=..2] run tag @s add treasure9

execute positioned 1014.50 19.50 1024.50 as @a[tag=!treasure10,gamemode=!spectator,tag=!debug,distance=..2] unless entity @a[tag=treasure10] run tellraw @a ["",{"text": ">> ","color":"gold","bold": true},{"selector": "@s","color":"gold"} , " 第一个获得了 ",{"text": "沙漠密室","color":"gold"}," 的宝藏!"]
execute positioned 1014.50 19.50 1024.50 as @a[tag=!treasure10,gamemode=!spectator,tag=!debug,distance=..2] run tag @s add get_treasure
execute positioned 1014.50 19.50 1024.50 as @a[tag=!treasure10,gamemode=!spectator,tag=!debug,distance=..2] run tag @s add treasure10

scoreboard players add @a[tag=get_treasure] treasure 1
tellraw @a[tag=get_treasure,scores={treasure=..9}] ["",{"text":">> ","color":"green","bold": true},"你已获得 ",{"score": {"objective": "treasure","name": "*"},"color":"green"},{"text": " 份 ","color":"green"},"宝藏!"]
execute as @a[tag=get_treasure,scores={treasure=10}] run function mini:parkour/player_finished
execute as @a[tag=get_treasure] at @s run function lib:sounds/levelup

execute as @a[tag=get_treasure] if score @s treasure matches 4 run advancement grant @s only ltw:parkour/treasure_1
execute as @a[tag=get_treasure] if score @s treasure matches 7 run advancement grant @s only ltw:parkour/treasure_2
execute as @a[tag=get_treasure] if score @s treasure matches 10 run advancement grant @s only ltw:parkour/treasure_3